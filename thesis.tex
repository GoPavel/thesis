\documentclass[times
              %,specification
              %,annotation
              ]{itmo-student-thesis}

\usepackage{amssymb}

\begin{document}
\studygroup{M3439}
\title{Применение теории Клини и ее расширений для автоматизации доказательств в системе Coq  }
\author{Головин Павел Андреевич}{Головин П. А.}
\supervisor{TODO}{TODO}{проф., д.т.н.}{главный научный сотрудник Университета ИТМО}
\publishyear{2020}
%% Дата выдачи задания. Можно не указывать, тогда надо будет заполнить от руки.
%\startdate{01}{сентября}{2018}
%% Срок сдачи студентом работы. Можно не указывать, тогда надо будет заполнить от руки.
%\finishdate{31}{мая}{2019}
%% Дата защиты. Можно не указывать, тогда надо будет заполнить от руки.
%\defencedate{15}{июня}{2019}

%\addconsultant{Белашенков Н.Р.}{канд. физ.-мат. наук, без звания}
%\addconsultant{Беззубик В.В.}{без степени, без звания}

\secretary{Павлова О.Н.}

%% Задание
%%% Техническое задание и исходные данные к работе
\technicalspec{TODO}

%%% Содержание выпускной квалификационной работы (перечень подлежащих разработке вопросов)
\plannedcontents{TODO}

%%% Исходные материалы и пособия
\plannedsources{\begin{enumerate}
    \item TODO
\end{enumerate}}

%%% Цель исследования
\researchaim{TODO}

%%% Задачи, решаемые в ВКР
\researchtargets{\begin{enumerate}
    \item TODO
\end{enumerate}}

%%% Использование современных пакетов компьютерных программ и технологий
%\addadvancedsoftware{Пакет \texttt{tabularx} для чуть более продвинутых таблиц}{\ref{sec:tables}, Приложения~\ref{sec:app:1}, \ref{sec:app:2}}
%\addadvancedsoftware{Пакет \texttt{biblatex} и программное средство \texttt{biber}}{Список использованных источников}

%%% Краткая характеристика полученных результатов
\researchsummary{TODO}

%%% Гранты, полученные при выполнении работы
\researchfunding{TODO}

%%% Наличие публикаций и выступлений на конференциях по теме выпускной работы
\researchpublications{TODO
%  \begin{refsection}
%    Однако покажу, как можно ссылаться на свои публикации из списка литературы:
%    \nocite{example-english, example-russian}
%    \printannobibliography
%  \end{refsection}
}

%% Эта команда генерирует титульный лист и аннотацию.
\maketitle{Бакалавр}

%% Оглавление
\tableofcontents

%% Макрос для введения. Совместим со старым стилевиком.
\startprefacepage

%:Needs:
% TODO Актуальность работы
% TODO Цели и задачи работы
% TODO Новизна работы
% TODO Практическое значение работы
% TODO Ссылки на доклады и публикации
% TODO Краткое описание структуры работы по главам

 В информатике часто используется такая математическая абстракция как бинарные отношения.
Она позволяет выразить некоторое характерное свойство пары объектов. Например, отношения порядка, отношение эквивалентности, функциональные отношение, отношение инцидентности вершин в графе и т.д.
Так же часто бинарные отношения необходимы для анализа свойства исполнения параллельных программ. Модели памяти языков программирования используют отношения на элементарных командах чтения/записи, например отношение <<произошло до>> , чтобы специфицировать поведение программы при наличии гонок по данным.

Теоретически формальные модели памяти могут просто запрещать наличие гонок в коде как это было в языке Си до введения модели памяти C11 (link?). Это сильно ограничивает производительность и параллелизм программ. Поэтому сейчас языки по возможности используют в своей спецификации так называемые слабые модели памяти, которые разрешают гонки по данным и специфицируют набор возможных поведений программы.

Проблема заключается в том, что создание формальной слабой модели памяти, которая корректно применима при компиляции программы по разные архитектуры - очень сложная задача, требующая длинных доказательств с аккуратным рассмотрением большого количества случаев.
Поэтому при разработке современных моделей памяти (RC11 link?) стараются использовать системы с автоматической проверкой доказательств. Примером такого инструмента является язык с зависимыми типами Coq.

Такой подход включает в себя аксиоматизацию модели памяти и модели исполнения программ, а
также доказательство теорем о корректности компиляции на языке Coq. Это позволяет быть уверенным в правильности сложной модели памяти.

В процессе формализации модели памяти на языке Coq приходится доказывать большое количество лемм и свойств исходя из базовых аксиом. Средства Coq позволяют автоматизировать и переиспользовать доказательства, путем обобщения доказываемых утверждений. Мы можем вынести целую теорию в самостоятельные модуль, что позволит его пользователям автоматизировать доказательство фактов из этой теории.

Так как работая с моделью памяти мы часто имеем дело с бинарными отношениями, то можно попробовать вынести и упростить доказательства утверждений связанные с бинарными отношениями. Алгебраическим обобщением бинарных отношения является Алгебра Клини (линк?).

Цель данной работы заключается в попытке применить Теорию алгебры Клини для упрощения формальных доказательства в системе Coq связанных с моделями памяти. Это должно облегчить разработку и исследование слабых моделей памяти в системе Coq.

%% Начало содержательной части.
\chapter{Первая глава}

  \section{Описание предметной области}

    \subsection{Алгебра отношений}
      Для любого множества O, можно задать алгебру отношений $ Rel\langle O \rangle \subseteq P(O) $ с операциями:

      \begin{itemize}
        \item композиции ($ \cdot $) и нейтральным элементом
        \item рефлексивного транзитивного замыкания ($ \_^* $)
      \end{itemize}

      Также дополнительно мы определим операции:

      \begin{itemize}
        \item транзитивного замыкания ($ \_^{+} $)
        \item пересечения($ \cap $) и объединения($ \cup $)
        \item инвертирования ($ ^\cup $) ($ x R y \Leftrightarrow y R^\cup x $)
      и пустое ($0$) и универсальное множество $ \top $
      \end{itemize}

    \subsection{Алгебра Клини}
      % TODO (линк на Algebra of Relation)

      Назовем алгеброй Клини и будем обозначать как KA кортеж $\langle A,+,\cdot,\_^*,0,1\rangle$ такой, что $\langle A, +, \cdot, 0, 1 \rangle$ - идемпотентное полу-кольцо и операция $ \_^* $ удовлетворяет ряду аксиом (TODO)
      Известно, что Алгебра Клини полна относительно алгебры отношений (link).
      ($ Rel \models r_1 = r_2 \Leftrightarrow KA \models r_1 = r_2$)

    \subsection{Алгебра Клини с тестами}
      Теперь рассмотрим очень полезное расширение KA, алгебры Клини с тестами.
      Клини алгебра с тестами (KAT), это кортеж $\langle K, B, [\cdot] \rangle$ такой, что:

      \begin{itemize}
        \item K - Клини алгебра $\langle A, +, \cdot, \_^*, 0, 1 \rangle $
        \item B - булева алгебра $\langle B, \wedge, \vee, T, \bot \rangle $
        \item $ [\cdot] $ - гомоморфизм из $\langle A, +, \cdot, \_^*, 0, 1 \rangle  $в $\langle B, \wedge, \vee, T, \bot \rangle$
      \end{itemize}

      Аналогично расширим определение бинарных отношений $Rel \langle O \rangle $, добавив булеву алгебру $\langle P\langle O \rangle, \cap, \cup, O, \emptyset \rangle$ и гомоморфизм $ [a] = \{(p, p) \in a\} $.
      Алгебра Клини с тестами полна относительно такой расширенной алгебры бинарных отношений.
      ($KAT \models r_1 = r_2 \Leftrightarrow Rel \models r_1 = r_2$)
      % TODO (link)

      Элементы булевой алгебры называют тестами. Они позволяют нам ограничивать наши бинарные отношения какими-то логическими выражениями.

    \subsection{Разрешимость KAT/KA}
      % TODO: может быть стоит подробнее расказать про оценки и общезначимость
      Важным свойством KA/KAT является из разрешимость, при чем за полиномиальное время (proof?). То есть существует алгоритм, который по двум выражениям из алгебры определяет эквиваленты ли они при любой оценки атомарных элементов в любой полной модели. При чем этот алгоритм завершается за полиномиальное время от размера выходных выражений.


      % TODO Пример
    \subsection{Слабая модель памяти}
      Слабой моделью памяти называются...


  \section{Анализ}
     % TODO Что требуется для достижения цели
     % TODO Что уже сделано
     % TODO Почему сделанного недостаточно

     Для достижения поставленной цели необходимо реализовать библиотеку, которая формализует и конструктивно доказывает теорему о разрешимости KAT/KA, то есть предоставляет корректный алгоритм построения доказательства равенства двух выражений, если оно общезначимо. После этого необходимо попробовать упростить уже существующие доказательства связанные с моделями памяти, используя эту библиотеку. Но чтобы это сделать необходимо в доказать, что формализация бинарных отношений в упрощаемом код является алгеброй Клини [с тестами].

     В качестве доказательств необходимых для формализации моделей памяти, было решено взять библиотеку hahn (link), которая содержит в себе базовые определения и леммы, свойственные многим моделям памяти.

  \section{Существующие решения}

     \subsection{relation-algebra}
      % TODO Может быть это должно быть не вы этой главе
      % TODO Написать, что такое тактики
       Эта библиотека определяет иерархию различных расширений алгебры Клини. А также предоставляет возможность автоматически доказывать общезначимые равенства выражений из $KA$ и $KAT$, предоставляя для этого соответствующие тактики \textit{ka/kat}.
       С помощью гибко настраиваемого механизма унификации термов (Canonical Strcutures/Typeclasses), который встроен в Coq, можно использовать эту библиотеку для любой структуры, для которой выполнены аксиомы $KAT$/$KA$.

       Также библиотеку предоставляет возможность в процессе доказательства равенства двух выражений использовать гипотезы специально вида.

       % TODO Ну и какие тут недостатки ?


  \section{Постановка задачи}
    Необходимо свести и доказать корректность такого сведения определений из hahn к теории Алгебр Клини.

  \section{Выводы из первой главы}

  \section{Выводы}
% \chapter{Вторая глава}
   % TODO Предполагаемое теоритическое решение

   % TODO При текущей постановке задачи не понятно, что присать про теоритическое решение
   % TODO Обобщить постановку задачи?

   % TODO Обоснование, почему оно удовлетворяет треботваниям, сформулированным в первой главе
   % TODO Теоретическое сравнение с существующими решениями
% \chapter{Третья глава}

% \chapter{Заключение}

% \chapter{Список источников}

%\chapter{Приложения}

\end{document}